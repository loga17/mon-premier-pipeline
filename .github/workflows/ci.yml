# Nom de notre robot
name: ðŸ§ª Mon Premier Robot CI

# Quand doit-il se rÃ©veiller ?
on:
  push:                # Quand quelqu'un envoie du code
    branches: [ main ]  # Sur la branche principale
  pull_request:         # Quand quelqu'un propose des changements
    branches: [ main ]

# Qu'est-ce qu'il doit faire ?
jobs:
  test:  # Notre job s'appelle "test"
    # L'ordinateur qui va exÃ©cuter le job
    runs-on: ubuntu-latest
    
    # Les Ã©tapes Ã  suivre
    steps:
      # Ã‰TAPE 1 : RÃ©cupÃ©rer le code
      - name: ðŸ“¥ RÃ©cupÃ©rer le code
        uses: actions/checkout@v4
        # C'est comme : Aller chercher le dossier sur GitHub
      
      # Ã‰TAPE 2 : Installer Node.js
      - name: ðŸ”§ Installer Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '18'
        # C'est comme : Installer le moteur qui fait tourner JavaScript
      
      # Ã‰TAPE 3 : Lancer les tests
      - name: ðŸ§ª Lancer les tests
        run: npm test
        # C'est comme : Lancer le programme de test
      
      # Ã‰TAPE 4 : Sauvegarder les rÃ©sultats
      - name: ðŸ“Š Sauvegarder les rÃ©sultats
        if: always()  # MÃªme si les tests Ã©chouent
        uses: actions/upload-artifact@v4
        with:
          name: test-results
          path: test-results.txt
        # C'est comme : Mettre la copie du test dans une boÃ®te